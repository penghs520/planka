server:
  port: 7005

spring:
  application:
    name: extension-service
  # 国际化消息配置
  messages:
    basename: i18n/messages
    encoding: UTF-8
    fallback-to-system-locale: false
  # Nacos 服务注册配置
  cloud:
    nacos:
      discovery:
        server-addr: localhost:28848
        namespace: public
  datasource:
    url: jdbc:mysql://localhost:23306/planka_extension?useSSL=false&serverTimezone=Asia/Shanghai&characterEncoding=utf8&allowPublicKeyRetrieval=true
    username: root
    password: root
    driver-class-name: com.mysql.cj.jdbc.Driver
  # Flyway 数据库迁移配置
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    baseline-version: 1
  # Redis配置
  data:
    redis:
      host: localhost
      port: 26379
      database: 0
      timeout: 3000ms
  kafka:
    bootstrap-servers: localhost:29092
    consumer:
      group-id: extension-service
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.json.trusted.packages: dev.planka.event,dev.planka.event.card,dev.planka.event.comment

# MyBatis Plus
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      id-type: input

# 评论配置
comment:
  # 撤回时间限制（秒）
  withdraw-time-limit: 120

# Logging
logging:
  level:
    dev.planka: DEBUG
